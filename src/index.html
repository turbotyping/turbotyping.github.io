<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Turbo Typing</title>
    <meta name="description" content="An online tool to help you improve your typing speed and we hope you enjoy it :)" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="/logo.png" />
    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
  </head>
  <body></body>
  <script>
    // reference: https://stackoverflow.com/questions/46628121/dialog-showmodal-not-supported-by-mozilla-firefox-any-more
    (function () {
      window.spawn =
        window.spawn ||
        function (gen) {
          function continuer(verb, arg) {
            var result;
            try {
              result = generator[verb](arg);
            } catch (err) {
              return Promise.reject(err);
            }
            if (result.done) {
              return result.value;
            } else {
              return Promise.resolve(result.value).then(onFulfilled, onRejected);
            }
          }
          var generator = gen();
          var onFulfilled = continuer.bind(continuer, 'next');
          var onRejected = continuer.bind(continuer, 'throw');
          return onFulfilled();
        };
      window.showModalDialog =
        window.showModalDialog ||
        function (url, arg, opt) {
          url = url || '';
          arg = arg || null;
          opt = opt || 'dialogWidth:300px;dialogHeight:200px';
          var caller = showModalDialog.caller.toString();
          var dialog = document.body.appendChild(document.createElement('dialog'));
          dialog.setAttribute('style', opt.replace(/dialog/gi, ''));
          dialog.innerHTML =
            '<a href="#" id="dialog-close" style="position: absolute; top: 0; right: 4px; font-size: 20px; color: #000; text-decoration: none; outline: none;">&times;</a><iframe id="dialog-body" src="' +
            url +
            '" style="border: 0; width: 100%; height: 100%;"></iframe>';
          document.getElementById('dialog-body').contentWindow.dialogArguments = arg;
          document.getElementById('dialog-close').addEventListener('click', function (e) {
            e.preventDefault();
            //dialog.close();
            var event = document.createEvent('Event');
            event.initEvent('myEvent', true, true);
            dialog.dispatchEvent(event);
          });

          try {
            //dialog.showModal()
            dialog.style.top = '50px';
            dialog.style.display = 'block';
            document.getElementsByTagName('body')[0].appendChild(dialog);
          } catch (err) {
            alert(err);
          }

          //if using yield
          if (caller.indexOf('yield') >= 0) {
            return new Promise(function (resolve, reject) {
              dialog.addEventListener('myEvent', function () {
                var returnValue = document.getElementById('dialog-body').contentWindow.returnValue;
                document.body.removeChild(dialog);
                resolve(returnValue);
              });
            });
          }

          //if using eval
          var isNext = false;
          var nextStmts = caller.split('\n').filter(function (stmt) {
            if (isNext || stmt.indexOf('showModalDialog(') >= 0) return (isNext = true);
            return false;
          });
          dialog.addEventListener('close', function () {
            var returnValue = document.getElementById('dialog-body').contentWindow.returnValue;
            document.body.removeChild(dialog);
            nextStmts[0] = nextStmts[0].replace(/(window\.)?showModalDialog\(.*\)/g, JSON.stringify(returnValue));
            eval('{\n' + nextStmts.join('\n'));
          });
          throw 'Execution stopped until showModalDialog is closed';
        };
    })();
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-86REZNPB79"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-86REZNPB79');
  </script>
</html>
